<view class="container"><view class="status-bar" style="{{'height:'+(statusBarHeight+'px')+';'}}"></view><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn" bindtap="__e"><text class="iconfont icon-back">←</text></view><view class="login-header"><image class="logo" src="/static/logo.png" mode="aspectFit"></image><text class="app-name">医疗助手</text><text class="slogan">您的健康管家，随时守护您的健康</text></view><view class="login-form"><view class="tab-header"><view data-event-opts="{{[['tap',[['switchLoginType',['password']]]]]}}" class="{{['tab-item',(loginType==='password')?'active':'']}}" bindtap="__e">密码登录</view><view data-event-opts="{{[['tap',[['switchLoginType',['code']]]]]}}" class="{{['tab-item',(loginType==='code')?'active':'']}}" bindtap="__e">验证码登录</view></view><block wx:if="{{loginType==='password'}}"><view><view class="input-item"><text class="iconfont icon-user"></text><input type="text" placeholder="请输入用户名/手机号" maxlength="20" data-event-opts="{{[['input',[['__set_model',['$0','username','$event',[]],['passwordForm']]]]]}}" value="{{passwordForm.username}}" bindinput="__e"/></view><view class="input-item"><text class="iconfont icon-password"></text><input type="{{showPassword?'text':'password'}}" placeholder="请输入密码" maxlength="20" data-event-opts="{{[['input',[['__set_model',['$0','password','$event',[]],['passwordForm']]]]]}}" value="{{passwordForm.password}}" bindinput="__e"/><text data-event-opts="{{[['tap',[['togglePasswordVisibility',['$event']]]]]}}" class="{{['iconfont','toggle-password',showPassword?'icon-eye-open':'icon-eye-close']}}" bindtap="__e"></text></view></view></block><block wx:else><view><view class="input-item"><text class="iconfont icon-phone"></text><input type="number" placeholder="请输入手机号" maxlength="11" data-event-opts="{{[['input',[['__set_model',['$0','phone','$event',[]],['codeForm']]]]]}}" value="{{codeForm.phone}}" bindinput="__e"/></view><view class="input-item"><text class="iconfont icon-code"></text><input type="number" placeholder="请输入验证码" maxlength="6" data-event-opts="{{[['input',[['__set_model',['$0','code','$event',[]],['codeForm']]]]]}}" value="{{codeForm.code}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['sendCode',['$event']]]]]}}" class="{{['code-btn',(codeBtnDisabled)?'disabled':'']}}" bindtap="__e">{{''+codeText+''}}</view></view></view></block><block wx:if="{{loginType==='password'}}"><view class="option-row"><view data-event-opts="{{[['tap',[['toggleRememberPwd',['$event']]]]]}}" class="remember-pwd" bindtap="__e"><view class="{{['checkbox',(rememberPwd)?'checked':'']}}"></view><text>记住密码</text></view><text data-event-opts="{{[['tap',[['navigateToForgetPwd',['$event']]]]]}}" class="forget-pwd" bindtap="__e">忘记密码？</text></view></block><view data-event-opts="{{[['tap',[['login',['$event']]]]]}}" class="login-btn" bindtap="__e">登录</view><view class="other-login"><view class="divider"><view class="line"></view><text>其他登录方式</text><view class="line"></view></view><view class="other-login-icons"><view data-event-opts="{{[['tap',[['otherLogin',['wechat']]]]]}}" class="icon-item" bindtap="__e"><text class="iconfont icon-wechat"></text></view><view data-event-opts="{{[['tap',[['otherLogin',['alipay']]]]]}}" class="icon-item" bindtap="__e"><text class="iconfont icon-alipay"></text></view></view></view><view class="register-link"><text>还没有账号？</text><text data-event-opts="{{[['tap',[['navigateToRegister',['$event']]]]]}}" class="link" bindtap="__e">立即注册</text></view></view><view class="agreement"><view data-event-opts="{{[['tap',[['toggleAgreement',['$event']]]]]}}" class="agreement-checkbox" bindtap="__e"><view class="{{['checkbox',(agreeProtocol)?'checked':'']}}"></view></view><text class="agreement-text">登录即代表您已阅读并同意<text data-event-opts="{{[['tap',[['viewProtocol',['user']]]]]}}" class="link" bindtap="__e">《用户协议》</text>和<text data-event-opts="{{[['tap',[['viewProtocol',['privacy']]]]]}}" class="link" bindtap="__e">《隐私政策》</text></text></view></view>
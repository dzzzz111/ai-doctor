<template>
  <view class="container">
    <!-- é¡¶éƒ¨Banner -->
    <view class="header">
      <view class="status-bar"></view>
      <view class="nav-bar">
        <view class="header-content">
          <text class="header-title">åŒ»ç–—åŠ©æ‰‹</text>
          <text class="header-subtitle">æ‚¨çš„å¥åº·ç®¡å®¶</text>
        </view>
        <view class="header-decoration"></view>
      </view>
      <!-- æ·»åŠ è£…é¥°æ€§å…ƒç´  -->
      <view class="header-particles">
        <view class="particle particle-1"></view>
        <view class="particle particle-2"></view>
        <view class="particle particle-3"></view>
      </view>
    </view>

    <!-- è½®æ’­å›¾ -->
    <view class="swiper-section">
      <swiper class="swiper" circular autoplay interval="4000" duration="800" indicator-dots indicator-active-color="#667eea">
        <swiper-item v-for="(item, index) in bannerList" :key="index" @click="viewNewsDetail(item)">
          <view class="swiper-item">
            <image :src="item.image" mode="aspectFill" class="swiper-image"></image>
            <view class="swiper-overlay">
              <view class="swiper-content">
                <text class="swiper-title">{{item.title}}</text>
                <text class="swiper-subtitle">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…</text>
              </view>
            </view>
          </view>
        </swiper-item>
      </swiper>
    </view>

    <!-- åº·å¤è®­ç»ƒä¸»æ¨èå¡ç‰‡ -->
    <view class="rehab-featured" @click="navigateTo('/pagesA/rehabilitation/index')">
      <view class="featured-badge">ğŸŒŸ ä¸ªæ€§åŒ–åº·å¤è®­ç»ƒ</view>
      <view class="featured-content">
        <view class="featured-left">
          <view class="featured-icon">ğŸ‹ï¸</view>
          <view class="featured-info">
            <text class="featured-title">ä¸“ä¸šåº·å¤è®­ç»ƒè®¡åˆ’</text>
            <text class="featured-subtitle">â€¢ æ ¹æ®Xå…‰è¯Šæ–­å®šåˆ¶æ–¹æ¡ˆ</text>
            <text class="featured-subtitle">â€¢ è§†é¢‘æŒ‡å¯¼ç§‘å­¦è®­ç»ƒ</text>
            <text class="featured-subtitle">â€¢ æ‰“å¡è®°å½•è¿›åº¦è·Ÿè¸ª</text>
          </view>
        </view>
        <view class="featured-right">
          <view class="start-btn">ç«‹å³å¼€å§‹</view>
          <text class="featured-arrow">â€º</text>
        </view>
      </view>
    </view>
    
    <!-- åŠŸèƒ½åŒº -->
    <view class="function-section">
      <view class="section-title-simple">ğŸ“± æ ¸å¿ƒåŠŸèƒ½</view>
      <view class="function-grid">
        <view class="function-card" @click="navigateTo('/pagesA/ai-doctor/index')">
          <view class="card-icon-wrapper ai-wrapper">
            <view class="card-icon">ğŸ¤–</view>
          </view>
          <text class="card-title">AIæ™ºèƒ½é—®è¯Š</text>
          <text class="card-desc">24å°æ—¶åœ¨çº¿å’¨è¯¢</text>
        </view>
        
        <view class="function-card" @click="navigateTo('/pagesA/image-diagnose/index')">
          <view class="card-icon-wrapper image-wrapper">
            <view class="card-icon">ğŸ”¬</view>
          </view>
          <text class="card-title">Xå…‰æ™ºèƒ½è¯Šæ–­</text>
          <text class="card-desc">ç²¾å‡†åˆ†æœŸåˆ†æ</text>
        </view>
        
        <view class="function-card" @click="navigateTo('/pages/image-diagnose/history')">
          <view class="card-icon-wrapper history-wrapper">
            <view class="card-icon">ğŸ“‹</view>
          </view>
          <text class="card-title">è¯Šæ–­è®°å½•</text>
          <text class="card-desc">å†å²æ•°æ®æŸ¥çœ‹</text>
        </view>
        
        <view class="function-card" @click="navigateTo('/pages/community/index')">
          <view class="card-icon-wrapper community-wrapper">
            <view class="card-icon">ğŸ‘¥</view>
          </view>
          <text class="card-title">å¥åº·ç¤¾åŒº</text>
          <text class="card-desc">ç»éªŒäº¤æµåˆ†äº«</text>
        </view>
      </view>
    </view>

    <!-- å¥åº·èµ„è®¯ -->
    <view class="news-section">
      <view class="section-header">
        <view class="section-title-wrapper">
          <text class="section-icon">ğŸ“°</text>
          <text class="title">å¥åº·èµ„è®¯</text>
        </view>
        <text class="more" @click="navigateTo('/pages/news/index')">æ›´å¤š</text>
      </view>
      <view class="news-list">
        <view class="news-item" v-for="(item, index) in newsList" :key="index" @click="viewNewsDetail(item)">
          <image class="news-image" :src="item.image" mode="aspectFill"></image>
          <view class="news-content">
            <text class="news-title">{{item.title}}</text>
            <text class="news-desc">{{item.description}}</text>
            <view class="news-meta">
              <view class="news-tag">å¥åº·</view>
              <text class="news-time">{{item.time}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</template>

<script>
export default {
  data() {
    return {
      bannerList: [
        {
          id: 1,
          title: 'éª¨å…³èŠ‚ç‚æ–°ç–—æ³•ç ”ç©¶çªç ´',
          image: '/static/images/news1.png',
        },
        {
          id: 2,
          title: 'å…³èŠ‚ç‚æ‚£è€…çš„è¿åŠ¨æŒ‡å—',
          image: '/static/images/news2.png',
        },
        {
          id: 3,
          title: 'é¥®é£Ÿä¸éª¨å…³èŠ‚ç‚çš„å…³ç³»',
          image: '/static/images/news3.png',
        }
      ],
      newsList: [
        {
          id: 1,
          title: 'éª¨å…³èŠ‚ç‚æ–°ç–—æ³•ç ”ç©¶çªç ´',
          description: 'ç§‘å­¦å®¶å‘ç°å¯èƒ½é€†è½¬è½¯éª¨æŸä¼¤çš„å†ç”ŸæŠ€æœ¯',
          image: '/static/images/news1.png',
          time: '2023-10-18'
        },
        {
          id: 2,
          title: 'å…³èŠ‚ç‚æ‚£è€…çš„è¿åŠ¨æŒ‡å—',
          description: 'ä¸“å®¶æ¨èçš„ä½å†²å‡»è¿åŠ¨æ–¹å¼å¸®åŠ©ç¼“è§£ç—‡çŠ¶',
          image: '/static/images/news2.png',
          time: '2023-10-15'
        },
        {
          id: 3,
          title: 'é¥®é£Ÿä¸éª¨å…³èŠ‚ç‚çš„å…³ç³»',
          description: 'æœ€æ–°ç ”ç©¶æ­ç¤ºæŸäº›é£Ÿç‰©å¯èƒ½åŠ é‡æˆ–ç¼“è§£å…³èŠ‚ç‚ç—‡çŠ¶',
          image: '/static/images/news3.png',
          time: '2023-10-12'
        }
      ],
      statusBarHeight: 20 // é»˜è®¤å€¼
    };
  },
  onLoad() {
    // è·å–çŠ¶æ€æ é«˜åº¦
    const systemInfo = uni.getSystemInfoSync();
    this.statusBarHeight = systemInfo.statusBarHeight || 20;
  },
  methods: {
    navigateTo(url) {
      uni.navigateTo({
        url: url
      });
    },
    viewNewsDetail(item) {
      uni.navigateTo({
        url: `/pages/news/detail?id=${item.id}`
      });
    }
  }
}
</script>

<style>
.container {
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  min-height: 100vh;
  position: relative;
  padding-bottom: 30rpx;
}

/* ç®€åŒ–æ ·å¼ï¼Œé¿å…å¤æ‚CSSå¯¼è‡´é—®é¢˜ */
.header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  height: 240rpx;
  padding-top: 44rpx;
  color: #fff;
}

.function-card {
  background: #fff;
  border-radius: 20rpx;
  padding: 32rpx;
  margin: 10rpx;
}
</style>
